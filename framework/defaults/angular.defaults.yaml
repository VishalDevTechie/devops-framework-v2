# app:
#   framework: angular
#   default_port: 4200
  
# build:
#   node_version: "18"
#   package_manager: "npm"
#   install_command: "npm ci --prefer-offline --no-audit --no-fund"
#   build_commands:
#     - "npm run build:prod"
#     - "npm run build -- --prod"
#     - "npm run build"
#     - "ng build --configuration production"
#   output_dirs:
#     - "dist"
#     - "dist/{app_name}"
  
# docker:
#   base_image: "nginx:alpine"
#   port: 8080
#   multi_stage: true
#   nginx_config: true
  
# deployment:
#   replicas: 2
#   resources:
#     requests:
#       cpu: "100m"
#       memory: "128Mi"
#     limits:
#       cpu: "500m"
#       memory: "512Mi"
  
#   health_checks:
#     readiness:
#       path: "/"
#       port: 8080
#       initial_delay: 10
#     liveness:
#       path: "/"
#       port: 8080
#       initial_delay: 30
      
#   service:
#     type: "LoadBalancer"
#     port: 80
#     target_port: 8080
    
# monitoring:
#   enabled: true
#   metrics_port: 8080
  
# scaling:
#   hpa_enabled: true
#   min_replicas: 1
#   max_replicas: 5
#   cpu_threshold: 70
app:
  framework: angular
  default_port: 4200
  
build:
  node_version: "18"
  package_manager: "npm"
  install_command: "npm ci --prefer-offline --no-audit --no-fund"
  build_commands:
    - "npm run build:prod"
    - "npm run build -- --prod"
    - "npm run build"
    - "ng build --configuration production"
  output_dirs:
    - "dist"
    - "dist/{app_name}"
  
docker:
  base_image: "nginx:alpine"
  port: 8080
  multi_stage: true
  nginx_config: true
  
deployment:
  replicas: 1
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  
  health_checks:
    readiness:
      path: "/"
      port: 8080
      initial_delay: 10
    liveness:
      path: "/"
      port: 8080
      initial_delay: 30
      
  service:
    type: "LoadBalancer"
    port: 80
    target_port: 8080
    
monitoring:
  enabled: true
  metrics_port: 8080
  
scaling:
  hpa_enabled: true
  min_replicas: 1
  max_replicas: 1
  cpu_threshold: 70